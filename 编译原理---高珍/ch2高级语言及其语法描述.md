# 程序语言的定义

程序设计语言是为书写计算机程序而人为设计的 符号语言。

![image-20211007180709903](ch2高级语言及其语法描述.assets/image-20211007180709903.png)

程序语言的内涵=语法+语义+语用

语用表示：各个单词符号或语言词句与其使 用之间的关系。

## 语法

语言的语法是指可以形成和产生程序的一组规则。它包括词法规则（程序中单词符号的形成规则）和语法规则（程序中语法单位的形成规则）。

语法有一种描述方式是BNF范式

![image-20211007181605871](ch2高级语言及其语法描述.assets/image-20211007181605871.png)

举个例子：

![image-20211007181613720](ch2高级语言及其语法描述.assets/image-20211007181613720.png)



## 语义

表示按照各种表示方法所表示的各个单词符号的特定含义（单词符号和语法单位的意义）（各个单词符号和单词符 号所表示的对象之间的关系）。



# 高级语言的一般特性

## 高级语言的分类

(1)强制式: Imperative Language(过程式语言)

- 形式:语句序列
- 举例: Fortran、 C、Pascal

(2)应用式: Applicative Language(函数式语言)

- 形式: func(1(..func(n))
- 举例: Lisp

(3)基于规则: Rule-Based Language(条件-→动作)

- 形式: bird(x)→fly(x) & feather(x)
- 举例: Prolog

(4)面向对象: Object-Oriented Language(封装/继承/多态)

- 形式: class,
- 举例: Smalltalk、 C++、 Java



## 程序结构

单层结构：

![image-20211007182505225](ch2高级语言及其语法描述.assets/image-20211007182505225.png)



多层结构：

![image-20211007182537101](ch2高级语言及其语法描述.assets/image-20211007182537101.png)

名字作用域规则--"最近嵌套原则"

一个在子程序B1中说明的名字X只在B1中有效（ 局部于B1）；

如果B2是B1的一个内层子程序且B2中对标识符X 没有新的说明，则原来的名字X在B2中仍然有效 。如果B2对X重新作了说明，那么，B2对X的任何 引用都是指重新说明过的这个X。

一个例子：

![image-20211007182650506](ch2高级语言及其语法描述.assets/image-20211007182650506.png)



## 数据类型与操作

一个数据类型通常包括以下三种要素： 

a.用于区别这种类型的数据对象的属性 

b.这种类型的数据对象可以具有的值 

c.可以作用于这种类型数据对象的操作



数据类型大概可以分为以下三类：

**初等数据类型**

常见的初等数据类型：

![image-20211007183936213](ch2高级语言及其语法描述.assets/image-20211007183936213.png)



**数据结构**（复合数据类型）

例如数组，字符串，栈和队列



**抽象数据类型** Abstract Data Type，ADT

![image-20211007184934649](ch2高级语言及其语法描述.assets/image-20211007184934649.png)

抽象数据类型有两个重要特征：信息隐蔽和数据封装，使用与实现相分离。提高可读性、可靠性、可维护性。

例如cpp中可以调用的队列库：

![image-20211007185024911](ch2高级语言及其语法描述.assets/image-20211007185024911.png)



## 语句与控制结构

### 表达式

一个表达式是由运算量（亦称操作数，即数据引 用或函数调用）和算符组成的。

对于大多数程序语言来说，表达式的形成规则可概括为： 

（1）变量、常数是表达式；

（2）若E1、E2为表达式，θ为二元算符，则 E1 θ E2为表达式； 

（3）若E为表达式， θ为一元算符，则θE为表达式； 

（4）若E为表达式，则（E ）是表达式。



### 语句

不同程序语言含有不同形式和功能的各种语句。 

从功能上说语句大体可分执行性语句和说明性语 句两大类： 

 说明性语句旨在定义不同数据类型的变量或运算。

执行性语句旨在描述程序的动作。 

执行性语句又可分为赋值语句、控制语句和输入/输出语句 

从形式上说，语句可分为简单句、复合句和分程序等。

![image-20211007233620392](ch2高级语言及其语法描述.assets/image-20211007233620392.png)



# 形式语言与文法（补充内容）

## 形式语言与自动机

通过人们公认的符号、表达方式所描述的一种语言，是一种通用语言，没有国籍之分。 形式语言是某个字母表上的字符串的集合，有一定的描述范围。

自动机 ：由自动机识别的符号串构成语言

1959年，乔姆斯基不仅确定了文法和自 动机分别从生成和识别的角度去表达语言， 而且证明了文法与自动机的等价性。

## 文法

所谓文法是用来定义语言的一个数学模型。

### 组成

![image-20210916100623800](ch2高级语言及其语法描述.assets/image-20210916100623800.png)

最后一行*表示闭包。中间有VN的原因是必须包含一个非终结符

例如英语，VT为26个字母

![image-20210916102416303](ch2高级语言及其语法描述.assets/image-20210916102416303.png)

产生式的左边必须要有变元，不能0—>1

一些习惯写法：

![image-20211008001437302](ch2高级语言及其语法描述.assets/image-20211008001437302.png)



例子：

![image-20210916101950170](ch2高级语言及其语法描述.assets/image-20210916101950170.png)

最后一行表示N为0和1组成的字符串

自动机表示：此处有一个图

如果N为001，则N=0N=00N=001

### 简化的文法表达

![image-20210916102655624](ch2高级语言及其语法描述.assets/image-20210916102655624.png)



## 推导与归约

**如何由文法产生语言的句子？** 

基本思想：从识别符号开始，把当前产生的 符号串中的非终结符号替换为相应产生式右部的符号串，直到最终全由终结符号组成。 这种替换过程称为推导或产生句子的过程， 每一步称为直接推导或直接产生。

![image-20211008001706774](ch2高级语言及其语法描述.assets/image-20211008001706774.png)



正向推导；反向归约；

![image-20210916103056108](ch2高级语言及其语法描述.assets/image-20210916103056108.png)

若在推导关系中，每次最先替换最左（右） 的**非终结符**，则称为**最左（右）推导**；  若在归约过程中，每次最先归约最左（右） 的**非终结符**，则称为**最左（右）归约**。

例题：(也可以用树状推导——最左推导就是左子树优先)

![image-20210916103323146](ch2高级语言及其语法描述.assets/image-20210916103323146.png)

## 句型 句子 语言

![image-20211008002714989](ch2高级语言及其语法描述.assets/image-20211008002714989.png)

例题：A就是若干个a；B就是若干个b

![image-20210916103937408](ch2高级语言及其语法描述.assets/image-20210916103937408.png)

![image-20210916104053839](ch2高级语言及其语法描述.assets/image-20210916104053839.png)

同一个句子可以由不同的推导序列推导得出

## Chomsky文法体系

### 定义

![image-20211008083727932](ch2高级语言及其语法描述.assets/image-20211008083727932.png)



### 分类（根据产生式）

0型文法：产生式不加任何限制

<img src="ch2高级语言及其语法描述.assets/image-20211008084620795.png" alt="image-20211008084620795" style="zoom:67%;" />



1型文法

也称上下文有关文法（CSG：Context-sensitive Grammar)

绝对值符号指的是长度

![image-20211008084705162](ch2高级语言及其语法描述.assets/image-20211008084705162.png)

例子：

<img src="ch2高级语言及其语法描述.assets/image-20211008084743786.png" alt="image-20211008084743786" style="zoom:67%;" />



2型文法

也称上下文无关文法（CFG：Context-free Grammar)——编程语言中的

α是变元和终结符联合起来的一个串，多长都可以（e也可以）

![image-20211008084802536](ch2高级语言及其语法描述.assets/image-20211008084802536.png)

![image-20211008084910634](ch2高级语言及其语法描述.assets/image-20211008084910634.png)



3型文法

也称正规（正则）文法：实际上是上下文无关文法的特例

![image-20211008092955793](ch2高级语言及其语法描述.assets/image-20211008092955793.png)

![image-20211008085046125](ch2高级语言及其语法描述.assets/image-20211008085046125.png)



![image-20211008085057844](ch2高级语言及其语法描述.assets/image-20211008085057844.png)



从0到3越来越严格

![image-20211008093306958](ch2高级语言及其语法描述.assets/image-20211008093306958.png)

例题：

![image-20211008093209472](ch2高级语言及其语法描述.assets/image-20211008093209472.png)



# 程序语言的语法描述

编译原理=形式语言理论+编译技术

## 上下文无关文法

就是上面一节的文法

## 语法分析树

![image-20211008004300633](ch2高级语言及其语法描述.assets/image-20211008004300633.png)

从推导构造语法树 

方法：把开始符号S做为语法树的根结点， 对每一个直接推导画一次结点的扩展，该 结点是直接推导中被替换的非终结符号， 其所有儿子结点所组成的符号串是推导中 所用产生式右部。直到推出句型或句子或 无法再推导时结束。

一个例子：

![image-20211008004332650](ch2高级语言及其语法描述.assets/image-20211008004332650.png)

![image-20211008004349941](ch2高级语言及其语法描述.assets/image-20211008004349941.png)

语法树表明了在推导过程中使用了哪条规则和使用在哪个 非终结符号上，但它并没有表明使用规则（产生式）的顺 序。 

 一个句型不是只有唯一的一个最左(最右)推导

 一个句型也不是只对应唯一的一棵语法树

![image-20211008004519914](ch2高级语言及其语法描述.assets/image-20211008004519914.png)



## 二义性

如果一个文法的句子（句型）存在两棵语 法树,那么,该句子是二义性的。 

如果一个文法包含二义性的句子,则称这个 文法是二义性的; 否则，该文法是无二义性 的。

二义文法可以改造为无二义文法

![image-20211008004655918](ch2高级语言及其语法描述.assets/image-20211008004655918.png)

![image-20211008004644188](ch2高级语言及其语法描述.assets/image-20211008004644188.png)







# past





